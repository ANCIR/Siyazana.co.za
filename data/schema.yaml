#
# connectedAfrica data model, v. 0.1
#
# This is the data model for the South African version of connectedAfrica, and
# it will eventually be extended to be generic enough to cover other instances
# as well.
#
# Conventions:
# * 'xid_*': an external identifier (e.g. numeric, GUID)
# * 'xurl_*': an external identifier URL
#


# Overwrite the base model to add some common properties.
- name: 'EntityCOAF'
  label: 'COAF-specific entity base schema'
  obj: 'entity'
  hidden: true
  parent: 'Entity'
  attributes:
    # Built-in external identifiers
    - name: xid_popolo
      service_url: 'http://za-new-import.popit.mysociety.org/'
      service_label: 'PopIt for South Africa'
      label: 'Popolo ID'
      hidden: true
    - name: xurl_peoples_assembly
      service_url: 'http://www.pa.org.za/'
      service_label: "People's Assembly in South Africa"
      label: "People's Assembly URL"
      hidden: true
    - name: xurl_whos_who
      service_url: 'http://whoswho.co.za/'
      service_label: "Who's Who SA"
      label: "Who's Who URL"
      hidden: true
    # Profile images
    # TODO: revamp when grano has proper image support.
    # https://github.com/granoproject/grano/issues/55
    - name: image_full
      label: 'Full-size image'
      datatype: file
      hidden: true
    - name: image_full_credit
      label: 'Full-size image credit'
      hidden: true
    - name: image_thumb
      label: 'Thumbnail image'
      datatype: file
      hidden: true
    - name: image_thumb_credit
      label: 'Thumbnail image credit'
      hidden: true


#####################################################################
# Entity: Person
#####################################################################
- name: 'Person'
  label: 'Person'
  description: 'A natural person'
  hidden: false
  parent: 'EntityCOAF'
  obj: entity
  meta:
    plural: 'People'
    see_also: 'http://popoloproject.com/specs/person.html'
  attributes:
    - name: national_id
      label: ID number
    - name: passport_number
      label: Passport number


#####################################################################
# Entity: Organization
#####################################################################
- name: 'Organization'
  label: 'Organization'
  description: 'A legal entity or state institution'
  hidden: false
  parent: 'EntityCOAF'
  obj: 'entity'
  meta:
    plural: 'Organizations'
    see_also: 'http://popoloproject.com/specs/organization.html'
  attributes:
    - name: industry
      label: 'Industry'
    - name: tax_number
      label: 'Tax number'


#####################################################################
# Entity: Committee
#####################################################################
- name: 'Committee'
  label: 'Committee'
  description: 'A committee of an organization or institution'
  hidden: false
  parent: 'EntityCOAF'
  obj: 'entity'
  meta:
    plural: 'Committees'
  attributes: []


#####################################################################
# Entity: NonProfit
#####################################################################
- name: 'NonProfit'
  label: 'Not for Profit'
  description: 'A charitable or non-profit organization'
  hidden: false
  parent: 'Organization'
  obj: 'entity'
  meta:
    plural: 'Non-profits'
  attributes: []


#####################################################################
# Entity: EducationalInstitution
#####################################################################
- name: 'EducationalInstitution'
  label: 'Educational institution'
  description: 'An educational institution'
  hidden: false
  parent: 'Organization'
  obj: 'entity'
  meta:
    plural: 'Educational institutions'
  attributes: []


#####################################################################
# Entity: LegalCase
#####################################################################
- name: 'LegalCase'
  label: 'Legal case'
  description: 'A case heard before court or settled otherwise'
  hidden: false
  parent: 'EntityCOAF'
  obj: 'entity'
  meta:
    plural: 'Court cases'
  attributes:
    - name: case_no
      label: 'Offical case number'
    - name: case_title
      label: 'Offical case title'
    - name: date_start_hearing
      label: 'Hearing start date'
      datatype: datetime
    - name: date_end_hearing
      label: 'Hearing end date'
      datatype: datetime
    - name: date_decision
      label: 'Date decided'
      datatype: datetime
    - name: citation
      label: 'Case citation'


#####################################################################
# Relation: Membership
#####################################################################
- name: 'Membership'
  label: 'Member'
  description: 'An entity is a member of an organization'
  hidden: false
  parent: 'Relation'
  obj: relation
  meta:
    plural: 'Memberships'
    see_also: 'http://popoloproject.com/specs/membership.html'
  attributes:
    - name: role
      label: 'Role'
    - name: status
      label: 'Status'


#####################################################################
# Relation: FinancialInterest
#####################################################################
- name: 'FinancialInterest'
  label: 'Financial interest'
  description: 'An entity has a financial interest (e.g. shares) in another'
  hidden: false
  parent: 'Relation'
  obj: relation
  meta:
    plural: 'Financial ties'
  attributes:
    - name: nature
      label: 'Nature of the interest'
    - name: shares_number
      label: 'Number of shares'
    - name: nominal_value
      label: 'Nominal value'


#####################################################################
# Relation: Education
#####################################################################
- name: 'Education'
  label: 'Education'
  description: 'An entity received an education from another'
  hidden: false
  parent: 'Relation'
  obj: relation
  attributes:
    - name: qualification_name
      label: 'Name of qualification'
    - name: level
      label: 'Level of education'
